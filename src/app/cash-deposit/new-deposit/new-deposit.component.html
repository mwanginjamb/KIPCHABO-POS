<ion-header>
  <ion-toolbar>
    <ion-title>New Cash Deposit</ion-title>

    <ion-buttons slot="end">
      <ion-button (click)="onCancel()">
        <ion-icon name="close"></ion-icon>
      </ion-button>
    </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content *ngIf="cashDeposit.Key">
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-card>
          <ion-card-header>
            <ion-card-title>
              Cash Deposit Card
            </ion-card-title>
          </ion-card-header>

          <ion-card-content>

            <ion-fab vertical="bottom" horizontal="end" slot="fixed">
              <ion-fab-button color="warning" (click)="post(cashDeposit.No)">
                <ion-icon name="send"></ion-icon>
              </ion-fab-button>
            </ion-fab>

            <ion-row>
              <ion-col>
                <ion-item>
                  <ion-label position="floating">No.</ion-label>
                  <ion-input [(ngModel)]="cashDeposit.No"></ion-input>
                </ion-item>
              </ion-col>

              <ion-col>
                <ion-item>
                  <ion-label position="floating">Reference</ion-label>
                  <ion-input [(ngModel)]="cashDeposit.Reference" (ionBlur)="onUpdateDocument()" placeholder="Add Transaction Reference">
                  </ion-input>
                </ion-item>
              </ion-col>
            </ion-row>


            <ion-row>
              <ion-col>
                <ion-item>
                  <ion-label position="floating">Posting Date: </ion-label>
                  <ion-input [(ngModel)]="cashDeposit.Posting_Date"></ion-input>
                </ion-item>
              </ion-col>

              <ion-col>
                <ion-item>
                  <ion-label position="floating">Amount:</ion-label>
                  <ion-input [(ngModel)]="cashDeposit.Amount" readonly></ion-input>
                </ion-item>
              </ion-col>
            </ion-row>


            <ion-row>
              <ion-col>
                <ion-item>
                  <ion-label position="floating">Created By</ion-label>
                  <ion-input [(ngModel)]="cashDeposit.Created_By"></ion-input>
                </ion-item>
              </ion-col>

              <ion-col>

              </ion-col>

            </ion-row>



          </ion-card-content>

        </ion-card>


        <!--Start Lines Card-->
        <ion-card>
          <ion-card-header>
            <ion-card-title>Invoice Lines</ion-card-title>
          </ion-card-header>
          <ion-card-content>
            <ion-grid>



              <ion-row scrollX="true">
                <ion-col>
                  <ion-label>Customer</ion-label>
                </ion-col>

                <ion-col>
                  <ion-label>Amount</ion-label>
                </ion-col>

                <ion-col>
                  <ion-label>Select</ion-label>
                </ion-col>

              </ion-row>



              <ion-list *ngFor="let ln of cashDeposit?.Cash_Deposit_Lines?.Cash_Deposit_Lines">
                <ion-row>

                  <ion-col>
                    <ion-item>
                      <ion-label>{{ln.Customer_Name }}</ion-label>
                    </ion-item>
                  </ion-col>

                  <ion-col>
                    <ion-item>
                      <ion-label>{{ln.Amount | currency: 'Ksh.'}}</ion-label>
                    </ion-item>
                  </ion-col>

                  <ion-col>
                    <ion-item>
                      <input type="checkbox" [value]="ln.Select" (click)="onUpdateLine(ln.Key)" />
                    </ion-item>
                  </ion-col>


                </ion-row>
              </ion-list>


            </ion-grid>
          </ion-card-content>
        </ion-card>
        <!--End Lines Card-->

      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>